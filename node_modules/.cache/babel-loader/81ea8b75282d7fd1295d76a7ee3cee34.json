{"ast":null,"code":"const BASE_URL = 'https://frontend-test-assignment-api.abz.agency/api/v1';\n\nconst axios = require('axios');\n\nlet token = ''; // let contacts = [];\n\nasync function getNewToken() {\n  try {\n    const response = await axios.get(`${BASE_URL}/token`);\n    token = response.data.token;\n    return token;\n  } catch (error) {\n    return error;\n  }\n}\n\nasync function getUsers(page) {\n  // try {\n  //     const response = await axios.get(\n  //         `${BASE_URL}/users?page=1&count=6`\n  //     )\n  //     const users = response.data.users;\n  //     return users.result; \n  // } catch(error){\n  //     return error;\n  // }\n  await axios.get(`${BASE_URL}/users?page=1&count=6`).then(function (response) {\n    // обработка успешного запроса\n    console.log(response);\n    const users = response.data.users;\n    return users;\n  }).catch(function (error) {\n    // обработка ошибки\n    console.log(error);\n  }); // await axios.get(\n  //     `${BASE_URL}/users?page=1&count=6`\n  // )\n  // // .then(response => {response.json()})\n  // .then(data => {const users = data.users; return users})\n  // .catch(error => console.log(error));\n}\n\nasync function getPosition() {\n  try {\n    const response = await axios.get(`${BASE_URL}/positions`);\n    const positions = response.data.positions;\n    return positions;\n  } catch (error) {\n    return error;\n  }\n}\n\nasync function updateUsers(user) {\n  await axios.post(`${BASE_URL}/users`, {\n    data: user\n  }).then(function (response) {\n    console.log(response);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\n\nexport { getNewToken, getUsers, getPosition, updateUsers };","map":{"version":3,"names":["BASE_URL","axios","require","token","getNewToken","response","get","data","error","getUsers","page","then","console","log","users","catch","getPosition","positions","updateUsers","user","post"],"sources":["/home/pavel/Desktop/Work/abz-test-app/src/services/users-api.js"],"sourcesContent":["const BASE_URL = 'https://frontend-test-assignment-api.abz.agency/api/v1';\nconst axios = require('axios');\n\nlet token = '';\n// let contacts = [];\n\n\nasync function getNewToken() {\n    try{\n        const response = await axios.get(\n            `${BASE_URL}/token`\n            );\n            token = response.data.token;\n            return token;\n    } catch(error){\n        return error;\n    }\n}\n\nasync function getUsers(page) {\n    // try {\n    //     const response = await axios.get(\n    //         `${BASE_URL}/users?page=1&count=6`\n    //     )\n    //     const users = response.data.users;\n    //     return users.result; \n\n    // } catch(error){\n    //     return error;\n    // }\n    await axios.get(`${BASE_URL}/users?page=1&count=6`)\n    .then(function (response) {\n        // обработка успешного запроса\n        console.log(response);\n        const users = response.data.users; \n        return users\n    })\n    .catch(function (error) {\n        // обработка ошибки\n        console.log(error);\n    })\n  \n\n    // await axios.get(\n    //     `${BASE_URL}/users?page=1&count=6`\n    // )\n    // // .then(response => {response.json()})\n    // .then(data => {const users = data.users; return users})\n    // .catch(error => console.log(error));\n} \n\nasync function getPosition() {\n    try{\n        const response = await axios.get(\n            `${BASE_URL}/positions`\n        )\n        const positions = response.data.positions;\n        return positions; \n    } catch(error){\n        return error;\n    }\n}\n\nasync function updateUsers(user) {\n    await axios.post(`${BASE_URL}/users`, {\n        data: user,\n      }).then(function(response) {\n          console.log(response);\n      }).catch(function (error) {\n        console.log(error);\n      });\n}\n\nexport {\n    getNewToken,\n    getUsers,\n    getPosition,\n    updateUsers,\n}"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,wDAAjB;;AACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,IAAIC,KAAK,GAAG,EAAZ,C,CACA;;AAGA,eAAeC,WAAf,GAA6B;EACzB,IAAG;IACC,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAN,CAClB,GAAEN,QAAS,QADO,CAAvB;IAGIG,KAAK,GAAGE,QAAQ,CAACE,IAAT,CAAcJ,KAAtB;IACA,OAAOA,KAAP;EACP,CAND,CAME,OAAMK,KAAN,EAAY;IACV,OAAOA,KAAP;EACH;AACJ;;AAED,eAAeC,QAAf,CAAwBC,IAAxB,EAA8B;EAC1B;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA,MAAMT,KAAK,CAACK,GAAN,CAAW,GAAEN,QAAS,uBAAtB,EACLW,IADK,CACA,UAAUN,QAAV,EAAoB;IACtB;IACAO,OAAO,CAACC,GAAR,CAAYR,QAAZ;IACA,MAAMS,KAAK,GAAGT,QAAQ,CAACE,IAAT,CAAcO,KAA5B;IACA,OAAOA,KAAP;EACH,CANK,EAOLC,KAPK,CAOC,UAAUP,KAAV,EAAiB;IACpB;IACAI,OAAO,CAACC,GAAR,CAAYL,KAAZ;EACH,CAVK,CAAN,CAX0B,CAwB1B;EACA;EACA;EACA;EACA;EACA;AACH;;AAED,eAAeQ,WAAf,GAA6B;EACzB,IAAG;IACC,MAAMX,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAN,CAClB,GAAEN,QAAS,YADO,CAAvB;IAGA,MAAMiB,SAAS,GAAGZ,QAAQ,CAACE,IAAT,CAAcU,SAAhC;IACA,OAAOA,SAAP;EACH,CAND,CAME,OAAMT,KAAN,EAAY;IACV,OAAOA,KAAP;EACH;AACJ;;AAED,eAAeU,WAAf,CAA2BC,IAA3B,EAAiC;EAC7B,MAAMlB,KAAK,CAACmB,IAAN,CAAY,GAAEpB,QAAS,QAAvB,EAAgC;IAClCO,IAAI,EAAEY;EAD4B,CAAhC,EAEDR,IAFC,CAEI,UAASN,QAAT,EAAmB;IACvBO,OAAO,CAACC,GAAR,CAAYR,QAAZ;EACH,CAJG,EAIDU,KAJC,CAIK,UAAUP,KAAV,EAAiB;IACxBI,OAAO,CAACC,GAAR,CAAYL,KAAZ;EACD,CANG,CAAN;AAOH;;AAED,SACIJ,WADJ,EAEIK,QAFJ,EAGIO,WAHJ,EAIIE,WAJJ"},"metadata":{},"sourceType":"module"}